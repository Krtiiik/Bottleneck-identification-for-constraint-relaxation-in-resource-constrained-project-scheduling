%%% This file contains definitions of various useful macros and environments %%%
%%% Please add more macros here instead of cluttering other files with them. %%%

%%% Minor tweaks of style

% These macros employ a little dirty trick to convince LaTeX to typeset
% chapter headings sanely, without lots of empty space above them.
% Feel free to ignore.
\makeatletter
\def\@makechapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries \thechapter. #1
   \par\nobreak
   \vskip 20\p@
}}
\def\@makeschapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries #1
   \par\nobreak
   \vskip 20\p@
}}
\makeatother

% This macro defines a chapter, which is not numbered, but is included
% in the table of contents.
\def\chapwithtoc#1{
\chapter*{#1}
\addcontentsline{toc}{chapter}{#1}
}

% Draw black "slugs" whenever a line overflows, so that we can spot it easily.
\overfullrule=1mm

%%% Macros for definitions, theorems, claims, examples, ... (requires amsthm package)

\theoremstyle{plain}
\newtheorem{thm}{Theorem}
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{claim}[thm]{Claim}

\theoremstyle{plain}
\newtheorem{defn}{Definition}
\newtheorem*{defn*}{Definition}

\theoremstyle{remark}
\newtheorem*{cor}{Corollary}
\newtheorem*{rem}{Remark}
\newtheorem*{example}{Example}

%%% An environment for proofs

\newenvironment{myproof}{
  \par\medskip\noindent
  \textit{Proof}.
}{
\newline
\rightline{$\qedsymbol$}
}

%%% An environment for typesetting of program code and input/output
%%% of programs. (Requires the fancyvrb package -- fancy verbatim.)

\DefineVerbatimEnvironment{code}{Verbatim}{fontsize=\small, frame=single}

%%% The field of all real and natural numbers
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Nzero}{\mathbb{N}^0}

%%% Useful operators for statistics and probability
\DeclareMathOperator{\pr}{\textsf{P}}
\DeclareMathOperator{\E}{\textsf{E}\,}
\DeclareMathOperator{\var}{\textrm{var}}
\DeclareMathOperator{\sd}{\textrm{sd}}

%%% Transposition of a vector/matrix
\newcommand{\T}[1]{#1^\top}

%%% Various math goodies
\newcommand{\goto}{\rightarrow}
\newcommand{\gotop}{\stackrel{P}{\longrightarrow}}
\newcommand{\maon}[1]{o(n^{#1})}
\newcommand{\abs}[1]{\left|{#1}\right|}
\newcommand{\dint}{\int_0^\tau\!\!\int_0^\tau}
\newcommand{\isqr}[1]{\frac{1}{\sqrt{#1}}}

%%% Various table goodies
\newcommand{\pulrad}[1]{\raisebox{1.5ex}[0pt]{#1}}
\newcommand{\mc}[1]{\multicolumn{1}{c}{#1}}

%%% My macros ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

%%% Work-In-Progress designators --------------------------------------------------------
\newcommand{\todo}[1]{%
    \textcolor{orange}{\textbf{#1}}% Bold and orange text
    \marginpar{\textcolor{orange}{\PencilLeft}}% Symbol on the side of the page
    \PackageWarning{TODO}{#1}% Warning in LaTeX log
}
\newcommand{\toask}[1]{%
    \textcolor{blue}{\textbf{#1}}% Bold and blue text
    \marginpar{\textcolor{blue}{\large{\textbf{?}}}}% Symbol on the side of the page
    \PackageWarning{TODO}{#1}% Warning in LaTeX log
}
\newcommand{\wording}[1]{%
    \textcolor{brown}{#1}% brown text
    \marginpar{\textcolor{brown}{\PencilLeft}}% Symbol on the side of the page
}

%%% Typography or something -------------------------------------------------------------
% This macro defines a section, which is not numbered, but is included in the table of contents.
\def\secwithtoc#1{
\section*{#1}
\addcontentsline{toc}{section}{#1}
}

% Custom referencable "steps" enumerate
\newlist{steps}{enumerate}{10}
\setlist[steps]{label*=\arabic*.}    
\crefname{stepsi}{step}{steps}
\Crefname{stepsi}{Step}{Steps}

% Tables stuff
\newcommand{\tablenote}[2]{\multicolumn{#1}{p{0.95\textwidth}}{\footnotesize \emph{Note:} #2}}
\newcommand{\cellrule}{\leaders\hbox{\rule[0.3em]{.1pt}{0.4pt}}\hfill\mbox{}}

%%% Math --------------------------------------------------------------------------------
\newcommand{\defeq}{\overset{\text{def}}{=}}
\newcommand{\intinterval}[2]{[{#1}..{#2}]}

% Notation
\NewDocumentCommand{\supscriptable}{m m e{^}}{
    \IfValueTF{#3}{%
        #1^{#3#2}%
    }{%
        #1^{#2}%
    }
}
\newcommand{\Instance}{\mathcal{I}}
\newcommand{\precedence}[2]{#1 \hspace{-0.2em} \rightarrow \hspace{-0.2em} #2}
\newcommand{\Jobs}{\mathcal{J}}
\newcommand{\Precedences}{\mathcal{P}}
\newcommand{\Orders}{\mathcal{O}}
\newcommand{\Resources}{\mathcal{R}}
\newcommand{\horizon}{\mathcal{T}}

\newcommand{\duration}[1]{p_{#1}}
\newcommand{\deadline}[1]{\tilde{d}_{#1}}
\newcommand{\tardinessweight}[1]{w_{#1}}
\newcommand{\capacity}[2]{\supscriptable{R_{#1}}{(#2)}}
\newcommand{\capacityf}[1]{R_{#1}}
\newcommand{\shiftcapacity}[1]{\supscriptable{R_{#1}}{(-)}}
\newcommand{\consumption}[2]{r_{#1 #2}}

\newcommand{\jobstart}[1]{S_{#1}}
\newcommand{\Schedule}{S}
\newcommand{\jobend}[1]{C_{#1}}
\newcommand{\Completions}{C}
\newcommand{\tardiness}[1]{T_{#1}}

\newcommand{\targetOrder}{o}

\newcommand{\migration}[5]{(#1, #2, #3, #4, #5)}
\newcommand{\Migrations}{\mathcal{M}}
\newcommand{\addition}[4]{(#1, #2, #3, #4)}
\newcommand{\Additions}{\mathcal{A}}

\newcommand{\modelConsumption}[3]{\operatorname{c}_{#1 #2}^{(#3)}}

% Indicators
\newcommand{\indicator}[2]{\operatorname{#1}_{#2}}

\newcommand{\indMW}[1]{\indicator{MW}{#1}}
\newcommand{\indMUR}[1]{\indicator{MUR}{#1}}
\newcommand{\indAUAD}[1]{\indicator{AUAD}{#1}}
\newcommand{\indMRW}[1]{\indicator{MRW}{#1}}
\newcommand{\indMRUR}[1]{\indicator{MRUR}{#1}}
\newcommand{\indAUAC}[1]{\indicator{AUAC}{#1}}
